---
const features = [
  {
    icon: 'apple',
    title: 'Apple Intelligence',
    description: 'On-device AI with Apple Foundation Models. Full tool calling support on macOS 26+'
  },
  {
    icon: 'cpu',
    title: 'Multi-Provider Support',
    description: 'Cloud (OpenRouter, OpenAI, Anthropic) and local (LM Studio, GGUF) providers'
  },
  {
    icon: 'zap',
    title: 'Streaming Responses',
    description: 'Real-time token streaming for responsive, natural conversations'
  },
  {
    icon: 'wrench',
    title: 'Built-in Tools',
    description: 'File operations, Git integration, shell commands, web fetching, and more'
  },
  {
    icon: 'plug',
    title: 'MCP Integration',
    description: 'Connect to external MCP servers to extend functionality with additional tools'
  },
  {
    icon: 'save',
    title: 'Session Management',
    description: 'Auto-save on exit, quick resume with /last or -c flag, and named sessions'
  },
  {
    icon: 'brain',
    title: 'Memory Persistence',
    description: 'Remember facts across sessions with /remember and /memories commands'
  },
  {
    icon: 'terminal',
    title: 'One-Shot Mode',
    description: 'Run single commands directly from your shell with query history tracking'
  },
  {
    icon: 'shield',
    title: 'Tool Confirmation',
    description: 'Approve or reject potentially dangerous operations before execution'
  }
];
---

<section class="features">
  <div class="container">
    <h2 class="section-title">
      <span class="gradient-text">Features</span>
    </h2>
    <!-- Shared SVG gradient definition (single instance) -->
    <svg width="0" height="0" aria-hidden="true" style="position:absolute">
      <defs>
        <linearGradient id="feat-grad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="var(--color-pink)" />
          <stop offset="50%" stop-color="var(--color-purple)" />
          <stop offset="100%" stop-color="var(--color-cyan)" />
        </linearGradient>
      </defs>
    </svg>
    <div class="features-grid">
      {features.map(feature => (
        <div class="feature-card gradient-border">
          <div class="feature-icon" aria-hidden="true">
            {feature.icon === 'apple' && (
              <svg viewBox="0 0 24 24" fill="url(#feat-grad)" stroke="none">
                <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
              </svg>
            )}
            {feature.icon === 'cpu' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="4" y="4" width="16" height="16" rx="2" ry="2" /><rect x="9" y="9" width="6" height="6" /><line x1="9" y1="1" x2="9" y2="4" /><line x1="15" y1="1" x2="15" y2="4" /><line x1="9" y1="20" x2="9" y2="23" /><line x1="15" y1="20" x2="15" y2="23" /><line x1="20" y1="9" x2="23" y2="9" /><line x1="20" y1="14" x2="23" y2="14" /><line x1="1" y1="9" x2="4" y2="9" /><line x1="1" y1="14" x2="4" y2="14" />
              </svg>
            )}
            {feature.icon === 'zap' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
              </svg>
            )}
            {feature.icon === 'wrench' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" />
              </svg>
            )}
            {feature.icon === 'plug' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22v-5" /><path d="M9 8V2" /><path d="M15 8V2" /><path d="M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z" />
              </svg>
            )}
            {feature.icon === 'save' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" /><polyline points="17 21 17 13 7 13 7 21" /><polyline points="7 3 7 8 15 8" />
              </svg>
            )}
            {feature.icon === 'brain' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z" /><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z" />
              </svg>
            )}
            {feature.icon === 'terminal' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="4 17 10 11 4 5" /><line x1="12" y1="19" x2="20" y2="19" />
              </svg>
            )}
            {feature.icon === 'shield' && (
              <svg viewBox="0 0 24 24" fill="none" stroke="url(#feat-grad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" /><polyline points="9 12 11 14 15 10" />
              </svg>
            )}
          </div>
          <h3>{feature.title}</h3>
          <p>{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .features {
    padding: 4rem 0;
  }

  .section-title {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 3rem;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  .feature-card {
    background: var(--color-bg-secondary);
    border-radius: 12px;
    padding: 1.5rem;
    transition: transform 0.2s;
  }

  .feature-card:hover {
    transform: translateY(-2px);
  }

  .feature-icon {
    width: 36px;
    height: 36px;
    margin-bottom: 1rem;
  }

  .feature-icon svg {
    width: 100%;
    height: 100%;
  }

  .feature-card h3 {
    font-size: 1.125rem;
    margin-bottom: 0.5rem;
    color: var(--color-text);
  }

  .feature-card p {
    color: var(--color-text-muted);
    font-size: 0.875rem;
    margin: 0;
    line-height: 1.6;
  }

  @media (max-width: 900px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 560px) {
    .features-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
